/*!
 * Copyright (C) 2016 xslet project.
 * This software is released under the MIT license.
 */
xslet="undefined"==typeof xslet?{}:xslet,function(){"use strict";function e(e){function t(){return r||(r="px")}function n(e){if("px"!==e&&"mm"!==e&&"rem"!==e)throw new Error('The unit must be either "px", "mm" or "rem" : '+e);r||(r=e)}var r;Object.defineProperty(e,"unitOfSize",{enumerable:!0,get:t,set:n})}function t(e,t){function n(){return parseInt(o.fontSize.slice(0,-2))}function r(e){if("number"==typeof e){if(e<=0)throw new Error("The font size must be a positive number : "+e);e+="px"}else{if("string"!=typeof e)throw new Error("The font size must be a number : "+e);var t=e.replace(/^[0-9]+/,"");if("px"!==t&&"mm"!==t)throw new Error('The unit of root font size must be either "px" or "mm" : '+e);var n=parseInt(e.slice(0,-t.length));if(!n)throw new Error("The font size must be a positive number : "+e)}i.style.fontSize=e}var i=t.document.getElementsByTagName("html")[0],o=t.getComputedStyle(i);Object.defineProperty(e,"rootFontSize",{enumerable:!0,get:n,set:r})}function n(e){var t=e.document.createElement("div");t.style.fontSize="100mm",t.style.position="absolute",t.style.visibility="hidden",e.document.body.appendChild(t);var n=e.getComputedStyle(t),r=n.fontSize;return t.parentNode.removeChild(t),Number(r.slice(0,-"px".length))/100}function r(e,t){function r(r,o,u){i=i||n(t);var l=e.rootFontSize;if(o===u)return r;if("px"===o){if("mm"===u)return r/i;if("rem"===u)return r/l}else if("mm"===o){if("px"===u)return r*i;if("rem"===u)return r*i/l}else if("rem"===o){if("px"===u)return r*l;if("mm"===u)return r*l/i}throw new Error('Illegal units : "'+o+'" -> "'+u+'"')}var i;Object.defineProperty(e,"convertUnit",{enumerable:!0,value:r})}function i(e){var t=e.document.createElement("div");t.style.position="absolute",t.style.visibility="hiddden",t.style.overflow="scroll",t.style.width="100px",t.style.height="100px",e.document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return t.parentNode.removeChild(t),n}function o(e,t){function n(t){"number"!=typeof t||isNaN(t)||(t=e.convertUnit(t,e.unitOfSize,"px"),t=Math.max(0,Math.min(t,m())),h.scrollLeft=t)}function r(){var t=h.scrollLeft||0;return t=Math.max(0,Math.min(t,m())),t=e.convertUnit(t,"px",e.unitOfSize)}function i(t){"number"!=typeof t||isNaN(t)||(t=e.convertUnit(t,e.unitOfSize,"px"),t=Math.max(0,Math.min(t,s())),h.scrollTop=t)}function o(){var t=h.scrollTop||0;return t=Math.max(0,Math.min(t,s())),t=e.convertUnit(t,"px",e.unitOfSize)}function l(){var t=h.scrollWidth||0;return e.convertUnit(t,"px",e.unitOfSize)}function f(){var t=h.scrollHeight||0;return e.convertUnit(t,"px",e.unitOfSize)}function c(){var t=m();return e.convertUnit(t,"px",e.unitOfSize)}function a(){var t=s();return e.convertUnit(t,"px",e.unitOfSize)}function m(){var e=h.scrollWidth-p.clientWidth;return Math.max(0,e||0)}function s(){var e=h.scrollHeight-p.clientHeight;return Math.max(0,e||0)}var d=t.document,p=d.documentElement,h=d.body;(xslet.platform.ua.FIREFOX||xslet.platform.ua.MSIE)&&(h=p),Object.defineProperty(e,"scrollLeft",{enumerable:!0,set:n,get:r}),Object.defineProperty(e,"scrollTop",{enumerable:!0,set:i,get:o}),Object.defineProperty(e,"scrollWidth",{enumerable:!0,set:u,get:l}),Object.defineProperty(e,"scrollHeight",{enumerable:!0,set:u,get:f}),Object.defineProperty(e,"maxScrollLeft",{enumerable:!0,set:u,get:c}),Object.defineProperty(e,"maxScrollTop",{enumerable:!0,set:u,get:a})}function u(){}function l(e,t){function n(e){"function"==typeof e&&m.indexOf(e)<0&&m.push(e)}function r(e){for(var t=m.length-1;t>=0;t--)m[t]===e&&m.splice(t,1)}function o(){d=0,a=i(t);for(var n={width:f(t.innerWidth,e),height:f(t.innerHeight,e)},r=0,o=m.length;r<o;r++)m[r](n)}function u(){d--,0===d?o():d<0&&(d=0)}function l(){d=0,t.setTimeout(o,50)}function c(){d++,t.setTimeout(u,s)}var a=i(t),m=[],s=100,d=0;Object.defineProperty(e,"scrollbarWidth",{enumerable:!0,get:function(){return f(a,e)},set:function(){}}),Object.defineProperty(e,"addRelayoutListener",{enumerable:!0,value:n}),Object.defineProperty(e,"removeRelayoutListener",{enumerable:!0,value:r}),Object.defineProperty(e,"relayoutDelay",{enumerable:!0,value:s}),Object.defineProperty(e,"relayout",{enumerable:!0,value:l}),t.addEventListener("resize",c)}function f(e,t){return t.convertUnit(e,"px",t.unitOfSize)}function c(n,i){Object.defineProperty(n,"window",{enumerable:!0,value:{}}),e(n.window),t(n.window,i),r(n.window,i),o(n.window,i),l(n.window,i)}c(xslet,window)}();
//# sourceMappingURL=xslet.window.min.js.map
